@model IEnumerable<XiNghiep.Models.Employee>

@{
    ViewData["Title"] = "Quản lý nhân sự";
}

<div class="container-fluid">
    <div class="row">

        <!-- Main Content -->
        <main class="col-md-9 ms-sm-auto col-lg-12 px-md-4">
            <h2 class="mt-4">Quản lý nhân sự</h2>
            <a asp-action="Create" class="btn btn-success mb-3">+ Thêm nhân viên</a>
            <div class="table-responsive">
                <table id="employeeTable" class="table table-striped table-hover border">
                    <thead class="table-primary text-center">
                        <tr>
                            <th>Ảnh</th>
                            <th>Họ và tên</th>
                            <th>Điện thoại</th>
                            <th>Địa chỉ</th>
                            <th>Ngày sinh</th>
                            <th>Phòng ban</th>
                            <th>Chức vụ</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="text-center">
                                    <img style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;" src="~/img/@item.Image" />
                                </td>
                                <td>@item.FullName</td>
                                <td>@item.Phone</td>
                                <td>@item.Address</td>
                                <td>@item.DayOfBirth</td>
                                <td>@item.Department.DepartmentName</td>
                                <td>@item.Position.PositionName</td>
                                <td class="text-center">

                                    <a asp-action="Edit" asp-route-id="@item.EmployeeId" class="btn btn-warning btn-sm">Sửa</a>
                                    <a asp-action="Details" asp-route-id="@item.EmployeeId" class="btn btn-info btn-sm">Chi tiết</a>
                                    <a asp-action="Delete" asp-route-id="@item.EmployeeId" class="btn btn-danger btn-sm" onclick="return confirm('Bạn có chắc chắn muốn xóa?');">Xóa</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </main>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('#employeeTable').DataTable({
            "language": {
                "search": "Tìm kiếm:",
                "lengthMenu": "Hiển thị _MENU_ nhân viên",
                "info": "Hiển thị _START_ đến _END_ của _TOTAL_ nhân viên",
                "paginate": {
                    "first": "Đầu",
                    "last": "Cuối",
                    "next": "Tiếp",
                    "previous": "Trước"
                }
            },
            "ordering": true,
            "autoWidth": false,
            "responsive": true
        });
    });
</script>